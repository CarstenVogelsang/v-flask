{#
    Admin Tile Macros for Dashboard/Overview Pages (DaisyUI)

    Usage:
        from "v_flask/macros/admin_tile.html" import admin_tile, admin_tile_grid

        call admin_tile_grid():
            admin_tile('Benutzer', 'Benutzerverwaltung', 'ti-users',
                       url_for('admin.benutzer'), color_hex='#3b82f6')
            admin_tile('Einstellungen', 'Systemkonfiguration', 'ti-settings',
                       url_for('admin.settings'), color_hex='#10b981',
                       settings_url=url_for('admin.config'))

    Parameters admin_tile():
        - name: Tile title
        - description: Description text
        - icon: Tabler Icon (with ti- prefix)
        - url: Target URL on click
        - color_hex: Accent color (default: primary color)
        - settings_url: Optional - shows settings button in footer
        - badge: Optional - shows badge with count
#}

{% macro admin_tile(name, description, icon, url, color_hex='#3b82f6', settings_url=None, badge=None) %}
<a href="{{ url }}" class="card bg-base-100 shadow hover:shadow-lg transition-shadow">
    <div class="card-body">
        <div class="flex items-center gap-3 mb-2">
            <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background-color: {{ color_hex }}20;">
                <i class="ti {{ icon }} text-2xl" style="color: {{ color_hex }};"></i>
            </div>
            <div class="flex-1">
                <h3 class="card-title text-base flex items-center gap-2">
                    {{ name }}
                    {% if badge is not none %}
                    <span class="badge badge-sm" style="background-color: {{ color_hex }}; color: white;">{{ badge }}</span>
                    {% endif %}
                </h3>
            </div>
        </div>
        <p class="text-sm text-base-content/60">{{ description }}</p>
    </div>
    {% if settings_url %}
    <div class="card-actions px-4 pb-4">
        <a href="{{ settings_url }}" class="btn btn-sm btn-outline w-full" onclick="event.stopPropagation()">
            <i class="ti ti-settings"></i> Einstellungen
        </a>
    </div>
    {% endif %}
</a>
{% endmacro %}


{% macro admin_tile_grid(cols_sm=1, cols_md=2, cols_lg=3, cols_xl=4) %}
<div class="grid grid-cols-{{ cols_sm }} md:grid-cols-{{ cols_md }} lg:grid-cols-{{ cols_lg }} xl:grid-cols-{{ cols_xl }} gap-4">
    {{ caller() }}
</div>
{% endmacro %}
